# Продуктовый помощник «Foodgram»

![Postgres](https://img.shields.io/badge/postgres-%23316192.svg?style=for-the-badge&logo=postgresql&logoColor=white)
![DjangoREST](https://img.shields.io/badge/DJANGO-REST-ff1709?style=for-the-badge&logo=django&logoColor=white&color=ff1709&labelColor=gray)
![Python](https://img.shields.io/badge/python-3670A0?style=for-the-badge&logo=python&logoColor=ffdd54)

## Описание проекта
На этом сервисе пользователи могут публиковать рецепты, подписываться на публикации других пользователей, добавлять понравившиеся рецепты в список «Избранное», а перед походом в магазин скачивать сводный список продуктов, необходимых для приготовления одного или нескольких выбранных блюд.

## Технологии
Python, Django Rest Framework, PostgreSQL, gunicorn, nginx, Docker

## Описание проекта и функционала
### Главная страница
 Содержимое главной страницы — список рецептов, отсортированных по дате публикации (от новых к старым).

### Страница рецепта
На странице — полное описание рецепта, возможность добавить рецепт в избранное и в список покупок, возможность подписаться на автора рецепта.

### Страница пользователя
На странице — имя пользователя, все рецепты, опубликованные пользователем и возможность подписаться на пользователя.

### Подписка на авторов
Подписка на публикации доступна только авторизованному пользователю. Страница подписок доступна только владельцу.

Сценарий поведения пользователя:
Пользователь переходит на страницу другого пользователя или на страницу рецепта и подписывается на публикации автора кликом по кнопке Подписаться на автора.
Пользователь переходит на страницу «Мои подписки» и просматривает список рецептов, опубликованных теми авторами, на которых он подписался. Сортировка записей — по дате публикации (от новых к старым).
При необходимости пользователь может отказаться от подписки на автора: переходит на страницу автора или на страницу его рецепта и нажимает Отписаться от автора.

### Список избранного
Работа со списком избранного доступна только авторизованному пользователю. Список избранного может просматривать только его владелец. Сценарий поведения пользователя:

Пользователь отмечает один или несколько рецептов кликом по кнопке Добавить в избранное.
Пользователь переходит на страницу «Список избранного» и просматривает персональный список избранных рецептов.
При необходимости пользователь может Удалить рецепт из избранного.
Список покупок
Работа со списком покупок доступна авторизованным и не авторизованным пользователям. Список покупок может просматривать только его владелец. Сценарий поведения пользователя:

Пользователь отмечает один или несколько рецептов кликом по кнопке Добавить в покупки.
Пользователь переходит на страницу Список покупок, там доступны все добавленные в список рецепты. Пользователь нажимает кнопку Скачать список и получает файл с суммированным перечнем и количеством необходимых ингредиентов для всех рецептов, сохранённых в «Списке покупок».
При необходимости пользователь может удалить рецепт из списка покупок.
Список покупок скачивается в формате PDF. При скачивании списка покупок ингредиенты в результирующем суммируются если в двух рецептах есть ингредиент (в одном рецепте 5 г, в другом — 10 г), то в списке будет один пункт: <ингредиент> (г.) - 15

### Фильтрация по тегам
При нажатии на название тега выводится список рецептов, отмеченных этим тегом. Фильтрация может проводится по нескольким тегам в комбинации «или»: если выбраны несколько тегов — на странице будут показаны рецепты, которые отмечены хотя бы одним из этих тегов. При фильтрации на странице пользователя фильтруются только рецепты выбранного пользователя. При фильтрации на странице избранного фильтруются только избранные рецепты.

### Регистрация и авторизация
В проекте доступна система регистрации и авторизации пользователей. Обязательные поля для пользователя:

Логин
Пароль
Email

## Шаблон наполнения env-файла
 - DB_ENGINE=django.db.backends.postgresql
 - DB_NAME=postgres
 - POSTGRES_USER=postgres
 - POSTGRES_PASSWORD=пароль для подключения к БД
 - DB_HOST=db
 - DB_PORT=5432
 - SECRET_KEY = 'ключ django проекта. файл settings.py'

## Запуск проекта на Docker-Compose
- Перед запуском у вас должен быть установлен Docker, Docker-Compose
Запуск файла docker-compose.yml

sudo docker compose up -d
- Миграции

sudo docker compose exec <name_web> python manage.py migrate
- Создание суперпользователя

sudo docker compose exec <name_web> python manage.py createsuperuser
- Статика

sudo docker compose exec <name_web> python manage.py collectstatic --no-input


## Запуск проекта на локальной машине:
- Клонировать репозиторий

- В директории infra файл example.env переименовать в .env и заполнить своими данными,
согласно шаблону выше. 

- Создать и запустить контейнеры Docker, как указано выше. 

## Ссылки
   Проект доступен по следующей ссылке: https://foodgramx.ddns.net

## Документация
   Документация к API доступна здесь http://foodgramx.ddns.net/api/docs/

В документации описаны возможные запросы к API и структура ожидаемых ответов. Для каждого запроса указаны уровни прав доступа.

Логин/пароль для авторизации в админке/приложении:
- log: admin
- pass: adminadmin

## Автор
- Автор проета - Тихомиров Алексей
- Telegram: @tav_ajax
